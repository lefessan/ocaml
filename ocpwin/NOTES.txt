You need:
apt-get install gcc-mingw-w64-i686 gcc-mingw-w64-x86-64 

2015-07-20:




2014-11-27:

In OCaml top directory:
./cross/configure
make cross-ocaml
make cross-install

gcc:

3.17.18 i386 and x86-64 Windows Options

These additional options are available for Microsoft Windows targets:

-mconsole
This option specifies that a console application is to be generated, by instructing the linker to set the PE header subsystem type required for console applications. This option is available for Cygwin and MinGW targets and is enabled by default on those targets. 
-mdll
This option is available for Cygwin and MinGW targets. It specifies that a DLL—a dynamic link library—is to be generated, enabling the selection of the required runtime startup object and entry point. 
-mnop-fun-dllimport
This option is available for Cygwin and MinGW targets. It specifies that the dllimport attribute should be ignored. 
-mthread
This option is available for MinGW targets. It specifies that MinGW-specific thread support is to be used. 
-municode
This option is available for MinGW-w64 targets. It causes the UNICODE preprocessor macro to be predefined, and chooses Unicode-capable runtime startup code. 
-mwin32
This option is available for Cygwin and MinGW targets. It specifies that the typical Microsoft Windows predefined macros are to be set in the pre-processor, but does not influence the choice of runtime library/startup code. 
-mwindows
This option is available for Cygwin and MinGW targets. It specifies that a GUI application is to be generated by instructing the linker to set the PE header subsystem type appropriately. 
-fno-set-stack-executable
This option is available for MinGW targets. It specifies that the executable flag for the stack used by nested functions isn't set. This is necessary for binaries running in kernel mode of Microsoft Windows, as there the User32 API, which is used to set executable privileges, isn't available. 
-fwritable-relocated-rdata
This option is available for MinGW and Cygwin targets. It specifies that relocated-data in read-only section is put into .data section. This is a necessary for older runtimes not supporting modification of .rdata sections for pseudo-relocation. 
-mpe-aligned-commons
This option is available for Cygwin and MinGW targets. It specifies that the GNU extension to the PE file format that permits the correct alignment of COMMON variables should be used when generating code. It is enabled by default if GCC detects that the target assembler found during configuration supports the feature.
See also under i386 and x86-64 Options for standard options.
╰─➤ ll ocaml-mingw64.tar.bz2                                            [20:08]
-rw-r--r-- 1 lefessan 206960602 Sep 18 19:13 ocaml-mingw64.tar.bz2
╭

The NSIS installer:
==================

If we set "C:\OCPWin64" as the installation directory, we get everything
installed in:
C:\OCPWin64\install-ocamlwin-20140921-mingw64-4.01.0+ocp1-amd64\local

We should change the licence file to use cross/LICENSE.txt

The uninstaller does not uninstall anything, and the PATH still contains the
C:\OCPWin64\bin directory.

During installer creation:

warning: uninstall function "un.EnvVarUpdate" not referenced - zeroing code (179-395) out

warning: install function "RIF" not referenced - zeroing code (515-564) out

